[{"/Users/usmcqueen/Desktop/andreacapstone/client/src/index.js":"1","/Users/usmcqueen/Desktop/andreacapstone/client/src/App.js":"2","/Users/usmcqueen/Desktop/andreacapstone/client/src/context/authContext.js":"3","/Users/usmcqueen/Desktop/andreacapstone/client/src/components/Navbar.jsx":"4","/Users/usmcqueen/Desktop/andreacapstone/client/src/components/Footer.jsx":"5","/Users/usmcqueen/Desktop/andreacapstone/client/src/components/Menu.jsx":"6","/Users/usmcqueen/Desktop/andreacapstone/client/src/pages/Home.jsx":"7","/Users/usmcqueen/Desktop/andreacapstone/client/src/pages/Login.jsx":"8","/Users/usmcqueen/Desktop/andreacapstone/client/src/pages/Register.jsx":"9","/Users/usmcqueen/Desktop/andreacapstone/client/src/pages/Single.jsx":"10","/Users/usmcqueen/Desktop/andreacapstone/client/src/pages/Write.jsx":"11","/Users/usmcqueen/Desktop/andreacapstone/client/src/pages/MusicPosts.jsx":"12","/Users/usmcqueen/Desktop/andreacapstone/client/src/pages/DisneyPosts.jsx":"13","/Users/usmcqueen/Desktop/andreacapstone/client/src/pages/FoodPosts.jsx":"14","/Users/usmcqueen/Desktop/andreacapstone/client/src/pages/SciencePosts.jsx":"15","/Users/usmcqueen/Desktop/andreacapstone/client/src/pages/TechnologyPosts.jsx":"16","/Users/usmcqueen/Desktop/andreacapstone/client/src/pages/BaseballPosts.jsx":"17"},{"size":505,"mtime":1683514763858,"results":"18","hashOfConfig":"19"},{"size":1645,"mtime":1683946997283,"results":"20","hashOfConfig":"19"},{"size":1796,"mtime":1683861954695,"results":"21","hashOfConfig":"19"},{"size":1520,"mtime":1683955168696,"results":"22","hashOfConfig":"19"},{"size":254,"mtime":1683949473357,"results":"23","hashOfConfig":"19"},{"size":2784,"mtime":1683946257197,"results":"24","hashOfConfig":"19"},{"size":3669,"mtime":1683956280383,"results":"25","hashOfConfig":"19"},{"size":1705,"mtime":1683859930570,"results":"26","hashOfConfig":"19"},{"size":1539,"mtime":1683852377206,"results":"27","hashOfConfig":"19"},{"size":2303,"mtime":1683862459718,"results":"28","hashOfConfig":"19"},{"size":4338,"mtime":1683937178984,"results":"29","hashOfConfig":"19"},{"size":713,"mtime":1683955271711,"results":"30","hashOfConfig":"19"},{"size":723,"mtime":1683955468916,"results":"31","hashOfConfig":"19"},{"size":733,"mtime":1683953454693,"results":"32","hashOfConfig":"19"},{"size":731,"mtime":1683955335006,"results":"33","hashOfConfig":"19"},{"size":758,"mtime":1683955355080,"results":"34","hashOfConfig":"19"},{"size":740,"mtime":1683953618948,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},"f1l4pg",{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"39"},{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"39"},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"39"},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"39"},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","suppressedMessages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","suppressedMessages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/usmcqueen/Desktop/andreacapstone/client/src/index.js",[],[],[],"/Users/usmcqueen/Desktop/andreacapstone/client/src/App.js",[],[],"/Users/usmcqueen/Desktop/andreacapstone/client/src/context/authContext.js",["92"],[],"import axios from \"axios\";\nimport { createContext, useEffect, useState, } from \"react\";\n// import Cookies from \"universal-cookie\";\nimport Cookies from \"js-cookie\";\n\nconst getToken = () => {\n  const token = Cookies.get(\"access_token\");\n  return token;\n};\n\n\nexport const AuthContext = createContext();\n\nexport const AuthContextProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n\n  // const cookies = new Cookies();\n  // const cookies = useMemo(() => {\n  //   return new cookies();\n  // }, []);\n\n  const login = async (inputs) => {\n    try {\n      const res = await axios.post(\n        // \"http://localhost:8080/api/auth/login\",\n        \"http://localhost:8080/api/login\",\n\n        inputs\n      );\n      console.log('login response')\n      setCurrentUser(res.data);\n\n      // set the authentication token in a cookie\n      Cookies.set(\"access_token\", res.data.token, { expires: 1 });\n    } catch (error) {\n      console.error(\"Error during login\", error);\n    }\n  };\n\n  const logout = async () => {\n    try {\n      // await axios.post(\"http://localhost:8080/api/auth/logout\");\n      await axios.post(\"http://localhost:8080/api/logout\");\n\n      setCurrentUser(null);\n\n      // remove the authentication token cookie\n      Cookies.remove(\"access_token\");\n    } catch (error) {\n      console.error(\"Error during logout\", error);\n    }\n  };\n\n  useEffect(() => {\n    // get the authentication token from the cookie when the component mounts\n    const access_token = Cookies.get(\"access_token\");\n    if (access_token) {\n      setCurrentUser({ token: access_token });\n    }\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{ \n      currentUser: currentUser, \n      login: login, \n      logout: logout \n      }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","/Users/usmcqueen/Desktop/andreacapstone/client/src/components/Navbar.jsx",[],[],"/Users/usmcqueen/Desktop/andreacapstone/client/src/components/Footer.jsx",[],[],"/Users/usmcqueen/Desktop/andreacapstone/client/src/components/Menu.jsx",[],[],"/Users/usmcqueen/Desktop/andreacapstone/client/src/pages/Home.jsx",[],[],"/Users/usmcqueen/Desktop/andreacapstone/client/src/pages/Login.jsx",["93","94"],[],"import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../context/authContext\";\n\n\nconst Login = () => {\n  const [inputs, setInputs] = useState({\n    username: \"\",\n    password: \"\",\n  })\n  const [error, setError] = useState(null);\n  // console.log(inputs);\n\n  const navigate = useNavigate();\n  // console.log(inputs);\n\n  const { login } = useContext(AuthContext);\n  // console.log(inputs);\n\n  const handleChange = e => {\n    setInputs((prev) => ({ ...prev, [e.target.name]: e.target.value }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n    await axios.post(\"http://localhost:8080/api/auth/login\", inputs, {\n      headers: {\n        // Access-Control-Allow-Origin: *,\n        // Access-Control-Allow-Methods: GET, POST, PUT, DELETE,\n        // Access-Control-Allow-Headers: Content-Type,\n        // \"Access-Control-Allow-Origin\": \"*\"\n      }\n    });\n    navigate(\"/\");\n    // console.log(\"handleSubmit\");\n  } catch (err) {\n    setError(err);\n    // console.log(\"login error\", error);\n  }\n}  // console.log(inputs)\n\n\n  return (\n    <div className=\"auth\">\n      <h1>Login</h1>\n      <form>\n        <input type=\"text\" placeholder=\"username\" name=\"username\" onChange={handleChange} />\n        <input type=\"password\" placeholder=\"password\" name=\"password\" onChange={handleChange} />\n        <button onClick={handleSubmit}>Login</button>\n        {/* {error && <p>{error.message}</p>} */}\n        <span>\n          Don't have an account? <Link to=\"/register\">Register</Link>\n        </span>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n","/Users/usmcqueen/Desktop/andreacapstone/client/src/pages/Register.jsx",["95"],[],"import React from \"react\";\nimport { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n\n\nconst Register = () => {\n  const [inputs, setInputs] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n  });\n\n  const [ error, setError ] = useState(null);\n\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    setInputs((prev) => ({ ...prev, [e.target.name]: e.target.value }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    // console.log(inputs)\n    try {\n      await axios.post(\"http://localhost:8080/api/auth/register\", inputs)\n      navigate(\"/login\");\n    } catch (error) {\n      setError(error.response);\n  }\n}\n\n  return (\n    \n    <div className=\"auth\">\n      <h1>Register</h1>\n      <form onSubmit={handleSubmit}>\n        <input\n          required\n          type=\"text\"\n          placeholder=\"username\"\n          name=\"username\"\n          onChange={handleChange}\n        />\n        <input\n          required\n          type=\"email\"\n          placeholder=\"email\"\n          name=\"email\"\n          onChange={handleChange}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"password\"\n          name=\"password\"\n          onChange={handleChange}\n        />\n        <button onClick={handleSubmit}>Register</button>\n        {/* {error && <p>{error}</p>} */}\n        <span>\n          Don't have an account? <Link to=\"/login\">Login</Link>\n        </span>\n      </form>\n    </div>\n  );\n};\n\n\nexport default Register;\n","/Users/usmcqueen/Desktop/andreacapstone/client/src/pages/Single.jsx",["96"],[],"import React, { useState, useEffect } from \"react\";\nimport Edit from \"../img/edit.png\";\nimport Delete from \"../img/delete.png\";\nimport Menu from \"../components/Menu\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport axios from \"axios\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../context/authContext.js\";\n// import DOMPurify from \"dompurify\";\n\nconst Single = () => {\n  \n  const [post, setPost] = useState({});\n\n  const location = useLocation();\n  \n  const navigate = useNavigate();\n\n  const postId = location.pathname.split(\"/\")[2];\n\n  const { currentUser } = useContext(AuthContext);\n  console.log('user data: ', currentUser)\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const res = await axios.get(`/posts/${postId}`);\n        setPost(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchData();\n    }, [postId]);\n\n    const handleDelete = async () => {\n      try {\n        await axios.delete(`/posts/${postId}`);\n          navigate(\"/\");\n      } catch (err) {\n          console.log(err);\n      }\n    }\n\n    const getText = (html) => {\n        const doc = new DOMParser().parseFromString(html, \"text/html\")\n        return doc.body.textContent\n    }\n\n    return (\n      <div className=\"single\">\n        <div className=\"content\">\n          <img src={`./upload/${post?.img}`} alt =\"\" />\n        </div>\n        <div className=\"user\">\n          {/* {post.img && <img src={post.img} alt=\"\" />} */}\n          {post.userImg && <img src={post.userImg} alt=\"\" />}\n\n          <div className=\"info\">\n            <span>{currentUser.username}</span>\n            {/* <p>Posted {formatDistanceToNow(new Date(post.date), { addSuffix: true})}</p> */}\n          </div>\n          {currentUser.username === post.username && (\n            <div className=\"edit\">\n              <Link to={`/write?edit=2`} state={post}>\n                <img src={Edit} alt=\"\" />\n              </Link>\n              <img onClick={handleDelete} source={Delete} alt=\"\" />\n            </div>\n          )}\n        </div>\n        <h1>{post.title}</h1>\n        <p>\n        {getText(post.content)}\n        </p>\n        <Menu cat={post.cat} />\n      </div>\n    );\n  };\n\nexport default Single;\n","/Users/usmcqueen/Desktop/andreacapstone/client/src/pages/Write.jsx",["97"],[],"/Users/usmcqueen/Desktop/andreacapstone/client/src/pages/MusicPosts.jsx",[],[],"/Users/usmcqueen/Desktop/andreacapstone/client/src/pages/DisneyPosts.jsx",[],[],"/Users/usmcqueen/Desktop/andreacapstone/client/src/pages/FoodPosts.jsx",[],[],"/Users/usmcqueen/Desktop/andreacapstone/client/src/pages/SciencePosts.jsx",[],[],"/Users/usmcqueen/Desktop/andreacapstone/client/src/pages/TechnologyPosts.jsx",[],[],"/Users/usmcqueen/Desktop/andreacapstone/client/src/pages/BaseballPosts.jsx",[],[],{"ruleId":"98","severity":1,"message":"99","line":6,"column":7,"nodeType":"100","messageId":"101","endLine":6,"endColumn":15},{"ruleId":"98","severity":1,"message":"102","line":13,"column":10,"nodeType":"100","messageId":"101","endLine":13,"endColumn":15},{"ruleId":"98","severity":1,"message":"103","line":19,"column":11,"nodeType":"100","messageId":"101","endLine":19,"endColumn":16},{"ruleId":"98","severity":1,"message":"102","line":14,"column":11,"nodeType":"100","messageId":"101","endLine":14,"endColumn":16},{"ruleId":"98","severity":1,"message":"104","line":5,"column":10,"nodeType":"100","messageId":"101","endLine":5,"endColumn":29},{"ruleId":"98","severity":1,"message":"105","line":20,"column":9,"nodeType":"100","messageId":"101","endLine":20,"endColumn":13},"no-unused-vars","'getToken' is assigned a value but never used.","Identifier","unusedVar","'error' is assigned a value but never used.","'login' is assigned a value but never used.","'formatDistanceToNow' is defined but never used.","'date' is assigned a value but never used."]