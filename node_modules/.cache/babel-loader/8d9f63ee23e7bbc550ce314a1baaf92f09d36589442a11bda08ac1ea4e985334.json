{"ast":null,"code":"var _jsxFileName = \"/Users/usmcqueen/Desktop/andreacapstone/client/src/context/authContext.js\",\n  _s = $RefreshSig$();\n// import axios from \"axios\";\n// import { createContext, useEffect, useState } from \"react\";\n\n// export const AuthContext = createContext();\n\n// export const AuthContextProvider = ({ children }) => {\n//   const [currentUser, setCurrentUser] = useState(\n//     JSON.parse(localStorage.getItem(\"user\")) || null\n//   );\n\n//   const login = async (inputs) => {\n//     try {\n//       // const res = await axios.post(\"/auth/login\", inputs);\n//       const res = await axios.post(\n//       \"http://localhost:8800/api/auth/login\",\n//       inputs\n//     );\n//     setCurrentUser(res.data);\n//     } catch (error) {\n//       console.error(\"Error during login\", error);\n//     }\n//   };\n\n//   const logout = async () => {\n//     try {\n//       await axios.post(\"http://localhost:8800/api/auth/logout\");\n//     setCurrentUser(null);\n//     } catch (error) {\n//       console.error(\"Error during logout\", error);\n//     }\n//   };\n\n//   useEffect(() => {\n//     localStorage.setItem(\"user\", JSON.stringify(currentUser));\n//   }, [currentUser]);\n\n//   return (\n//     <AuthContext.Provider value={{ currentUser, login, logout }}>\n//       {children}\n//     </AuthContext.Provider>\n//   );\n// };\n\nimport axios from \"axios\";\nimport { createContext, useEffect, useState } from \"react\";\n// import Cookies from \"universal-cookie\";\nimport Cookies from \"js-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/createContext();\nexport const AuthContextProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [currentUser, setCurrentUser] = useState(null);\n\n  // const cookies = new Cookies();\n  // const cookies = useMemo(() => {\n  //   return new cookies();\n  // }, []);\n\n  const login = async inputs => {\n    try {\n      const res = await axios.post(\"http://localhost:8800/api/auth/login\", inputs);\n      setCurrentUser(res.data);\n\n      // set the authentication token in a cookie\n      Cookies.set(\"authToken\", res.data.token, {\n        expires: 1\n      });\n    } catch (error) {\n      console.error(\"Error during login\", error);\n    }\n  };\n  const logout = async () => {\n    try {\n      await axios.post(\"http://localhost:8800/api/auth/logout\");\n      setCurrentUser(null);\n\n      // remove the authentication token cookie\n      Cookies.remove(\"authToken\");\n    } catch (error) {\n      console.error(\"Error during logout\", error);\n    }\n  };\n  useEffect(() => {\n    // get the authentication token from the cookie when the component mounts\n    const authToken = Cookies.get(\"authToken\");\n    if (authToken) {\n      setCurrentUser({\n        token: authToken\n      });\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      currentUse: currentUser,\n      login,\n      logout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n_s(AuthContextProvider, \"Y5F2pQQk2LZA5WRO2+bvRm5iRuo=\");\n_c = AuthContextProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthContextProvider\");","map":{"version":3,"names":["axios","createContext","useEffect","useState","Cookies","jsxDEV","_jsxDEV","AuthContext","AuthContextProvider","_ref","_s","children","currentUser","setCurrentUser","login","inputs","res","post","data","set","token","expires","error","console","logout","remove","authToken","get","Provider","value","currentUse","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/usmcqueen/Desktop/andreacapstone/client/src/context/authContext.js"],"sourcesContent":["// import axios from \"axios\";\n// import { createContext, useEffect, useState } from \"react\";\n\n// export const AuthContext = createContext();\n\n// export const AuthContextProvider = ({ children }) => {\n//   const [currentUser, setCurrentUser] = useState(\n//     JSON.parse(localStorage.getItem(\"user\")) || null\n//   );\n\n//   const login = async (inputs) => {\n//     try {\n//       // const res = await axios.post(\"/auth/login\", inputs);\n//       const res = await axios.post(\n//       \"http://localhost:8800/api/auth/login\",\n//       inputs\n//     );\n//     setCurrentUser(res.data);\n//     } catch (error) {\n//       console.error(\"Error during login\", error);\n//     }\n//   };\n\n//   const logout = async () => {\n//     try {\n//       await axios.post(\"http://localhost:8800/api/auth/logout\");\n//     setCurrentUser(null);\n//     } catch (error) {\n//       console.error(\"Error during logout\", error);\n//     }\n//   };\n\n//   useEffect(() => {\n//     localStorage.setItem(\"user\", JSON.stringify(currentUser));\n//   }, [currentUser]);\n\n//   return (\n//     <AuthContext.Provider value={{ currentUser, login, logout }}>\n//       {children}\n//     </AuthContext.Provider>\n//   );\n// };\n\nimport axios from \"axios\";\nimport { createContext, useEffect, useState, } from \"react\";\n// import Cookies from \"universal-cookie\";\nimport Cookies from \"js-cookie\";\n\nexport const AuthContext = createContext();\n\nexport const AuthContextProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n\n  // const cookies = new Cookies();\n  // const cookies = useMemo(() => {\n  //   return new cookies();\n  // }, []);\n\n  const login = async (inputs) => {\n    try {\n      const res = await axios.post(\n        \"http://localhost:8800/api/auth/login\",\n        inputs\n      );\n      setCurrentUser(res.data);\n\n      // set the authentication token in a cookie\n      Cookies.set(\"authToken\", res.data.token, { expires: 1 });\n    } catch (error) {\n      console.error(\"Error during login\", error);\n    }\n  };\n\n  const logout = async () => {\n    try {\n      await axios.post(\"http://localhost:8800/api/auth/logout\");\n      setCurrentUser(null);\n\n      // remove the authentication token cookie\n      Cookies.remove(\"authToken\");\n    } catch (error) {\n      console.error(\"Error during logout\", error);\n    }\n  };\n\n  useEffect(() => {\n    // get the authentication token from the cookie when the component mounts\n    const authToken = Cookies.get(\"authToken\");\n    if (authToken) {\n      setCurrentUser({ token: authToken });\n    }\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{ \n      currentUse: currentUser, login, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n"],"mappings":";;AAAA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,EAAEC,SAAS,EAAEC,QAAQ,QAAS,OAAO;AAC3D;AACA,OAAOC,OAAO,MAAM,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhC,OAAO,MAAMC,WAAW,gBAAGN,aAAa,CAAC,CAAC;AAE1C,OAAO,MAAMO,mBAAmB,GAAGC,IAAA,IAAkB;EAAAC,EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC,GAAAF,IAAA;EAC9C,MAAM,CAACG,WAAW,EAAEC,cAAc,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;;EAEpD;EACA;EACA;EACA;;EAEA,MAAMW,KAAK,GAAG,MAAOC,MAAM,IAAK;IAC9B,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMhB,KAAK,CAACiB,IAAI,CAC1B,sCAAsC,EACtCF,MACF,CAAC;MACDF,cAAc,CAACG,GAAG,CAACE,IAAI,CAAC;;MAExB;MACAd,OAAO,CAACe,GAAG,CAAC,WAAW,EAAEH,GAAG,CAACE,IAAI,CAACE,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAE,CAAC,CAAC;IAC1D,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;IAC5C;EACF,CAAC;EAED,MAAME,MAAM,GAAG,MAAAA,CAAA,KAAY;IACzB,IAAI;MACF,MAAMxB,KAAK,CAACiB,IAAI,CAAC,uCAAuC,CAAC;MACzDJ,cAAc,CAAC,IAAI,CAAC;;MAEpB;MACAT,OAAO,CAACqB,MAAM,CAAC,WAAW,CAAC;IAC7B,CAAC,CAAC,OAAOH,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;IAC7C;EACF,CAAC;EAEDpB,SAAS,CAAC,MAAM;IACd;IACA,MAAMwB,SAAS,GAAGtB,OAAO,CAACuB,GAAG,CAAC,WAAW,CAAC;IAC1C,IAAID,SAAS,EAAE;MACbb,cAAc,CAAC;QAAEO,KAAK,EAAEM;MAAU,CAAC,CAAC;IACtC;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEpB,OAAA,CAACC,WAAW,CAACqB,QAAQ;IAACC,KAAK,EAAE;MAC3BC,UAAU,EAAElB,WAAW;MAAEE,KAAK;MAAEU;IAAO,CAAE;IAAAb,QAAA,EACxCA;EAAQ;IAAAoB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B,CAAC;AAACxB,EAAA,CAjDWF,mBAAmB;AAAA2B,EAAA,GAAnB3B,mBAAmB;AAAA,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}