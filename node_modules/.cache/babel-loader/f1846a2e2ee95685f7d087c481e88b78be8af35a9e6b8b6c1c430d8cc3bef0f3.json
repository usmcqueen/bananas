{"ast":null,"code":"var _jsxFileName = \"/Users/usmcqueen/Desktop/andreacapstone/client/src/pages/Home.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport axios from \"axios\";\nimport DOMPurify from 'dompurify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst baseUrl = \"http://localhost:8080\";\nconst Home = () => {\n  _s();\n  const [posts, setPosts] = useState([]);\n  const cat = useLocation();\n  // console.log('category', cat)\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const res = await axios.get(`${baseUrl}/api/posts`);\n        // console.log(res)\n        setPosts(res.data);\n      } catch (error) {\n        // console.log(error);\n      }\n    };\n    fetchData();\n  }, [cat]);\n\n  // const posts = [\n  //   {\n  //     id: 1,\n  //     title: \"Lorem Ipsum Dolor\",\n  //     desc: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam consectetur eleifend elit, sed accumsan lorem lobortis eu. Sed vel lobortis quam.\",\n  //     img: \"https://dummyimage.com/300x200/000/fff&text=Image+1\",\n  //     // img: <img src={`../upload/img/abstractwater.jpg${post.img}`} alt=\"water\" />\n  //   },\n  //   {\n  //     id: 2,\n  //     title: \"Lorem Ipsum Sit\",\n  //     desc: \"Lorem ipsum sit amet, consectetur adipiscing elit. Maecenas sed faucibus orci. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae.\",\n  // img: \"https://dummyimage.com/300x200/000/fff&text=Image+2\",\n  //   },\n  //   {\n  //     id: 3,\n  //     title: \"Ipsum Dolor Amet\",\n  //     desc: \"Ipsum dolor amet sit amet, consectetur adipiscing elit. Sed id odio eu risus eleifend tincidunt vel et tellus. Nullam euismod auctor metus, sed bibendum arcu.\",\n  //     img: \"https://dummyimage.com/300x200/000/fff&text=Image+3\",\n  //   },\n  //   {\n  //     id: 4,\n  //     title: \"Dolor Ipsum Sit\",\n  //     desc: \"Dolor ipsum sit amet, consectetur adipiscing elit. In malesuada, nulla ac suscipit rhoncus, libero est placerat ex, sit amet cursus justo turpis nec tortor.\",\n  //     img: \"https://dummyimage.com/300x200/000/fff&text=Image+4\",\n  //   },\n  //   {\n  //     id: 5,\n  //     title: \"Ipsum Consectetur\",\n  //     desc: \"Ipsum consectetur adipiscing elit. Curabitur sollicitudin tincidunt est. Donec ullamcorper libero elit, at commodo massa consectetur non.\",\n  //     img: \"https://dummyimage.com/300x200/000/fff&text=Image+5\",\n  //   },\n  //   {\n  //     id: 6,\n  //     title: \"Consectetur Adipiscing\",\n  //     desc: \"Consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\",\n  //     img: \"https://dummyimage.com/300x200/000/fff&text=Image+6\",\n  //   },\n  // ];\n\n  const getText = html => {\n    return DOMPurify.sanitize(html, {\n      ALLOWED_TAGS: []\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"posts\",\n      children: posts.map(post => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"img\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `../upload/${post.img}`,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            className: \"link\",\n            to: `/post/${post.id}`,\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: post.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: getText(post.content)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"Read More\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)]\n      }, post.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"J9DnLMtvIN+Ca860AVHoQD6aCxU=\", false, function () {\n  return [useLocation];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useEffect","Link","useLocation","axios","DOMPurify","jsxDEV","_jsxDEV","baseUrl","Home","_s","posts","setPosts","cat","fetchData","res","get","data","error","getText","html","sanitize","ALLOWED_TAGS","className","children","map","post","src","img","alt","fileName","_jsxFileName","lineNumber","columnNumber","to","id","title","content","_c","$RefreshReg$"],"sources":["/Users/usmcqueen/Desktop/andreacapstone/client/src/pages/Home.jsx"],"sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport axios from \"axios\";\nimport DOMPurify from 'dompurify';\n\nconst baseUrl = \"http://localhost:8080\"\n\nconst Home = () => {\n  const [posts, setPosts] = useState([]);\n\n  const cat = useLocation();\n  // console.log('category', cat)\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const res = await axios.get(`${baseUrl}/api/posts`);\n        // console.log(res)\n        setPosts(res.data);\n      } catch(error) {\n        // console.log(error);\n      }\n    };\n    fetchData();\n  }, [cat]);\n\n  // const posts = [\n  //   {\n  //     id: 1,\n  //     title: \"Lorem Ipsum Dolor\",\n  //     desc: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam consectetur eleifend elit, sed accumsan lorem lobortis eu. Sed vel lobortis quam.\",\n  //     img: \"https://dummyimage.com/300x200/000/fff&text=Image+1\",\n  //     // img: <img src={`../upload/img/abstractwater.jpg${post.img}`} alt=\"water\" />\n  //   },\n  //   {\n  //     id: 2,\n  //     title: \"Lorem Ipsum Sit\",\n  //     desc: \"Lorem ipsum sit amet, consectetur adipiscing elit. Maecenas sed faucibus orci. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae.\",\n      // img: \"https://dummyimage.com/300x200/000/fff&text=Image+2\",\n  //   },\n  //   {\n  //     id: 3,\n  //     title: \"Ipsum Dolor Amet\",\n  //     desc: \"Ipsum dolor amet sit amet, consectetur adipiscing elit. Sed id odio eu risus eleifend tincidunt vel et tellus. Nullam euismod auctor metus, sed bibendum arcu.\",\n  //     img: \"https://dummyimage.com/300x200/000/fff&text=Image+3\",\n  //   },\n  //   {\n  //     id: 4,\n  //     title: \"Dolor Ipsum Sit\",\n  //     desc: \"Dolor ipsum sit amet, consectetur adipiscing elit. In malesuada, nulla ac suscipit rhoncus, libero est placerat ex, sit amet cursus justo turpis nec tortor.\",\n  //     img: \"https://dummyimage.com/300x200/000/fff&text=Image+4\",\n  //   },\n  //   {\n  //     id: 5,\n  //     title: \"Ipsum Consectetur\",\n  //     desc: \"Ipsum consectetur adipiscing elit. Curabitur sollicitudin tincidunt est. Donec ullamcorper libero elit, at commodo massa consectetur non.\",\n  //     img: \"https://dummyimage.com/300x200/000/fff&text=Image+5\",\n  //   },\n  //   {\n  //     id: 6,\n  //     title: \"Consectetur Adipiscing\",\n  //     desc: \"Consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\",\n  //     img: \"https://dummyimage.com/300x200/000/fff&text=Image+6\",\n  //   },\n  // ];\n\n\n  const getText = (html) => {\n    return DOMPurify.sanitize(html, { ALLOWED_TAGS: [] });\n  };\n  \n  return (\n    <div className=\"home\">\n      <div className=\"posts\">\n        {posts.map((post) => (\n          <div className=\"post\" key={post.id}>\n            <div className=\"img\">\n            {/* <img src={`${process.env.PUBLIC_URL}/uploads/${post.img}`} alt=\"\" /> */}\n            {/* <img src={`../upload/${post.img}`} alt=\"\" /> */}\n            <img src={`../upload/${post.img}`} alt=\"\" />\n            </div>\n            <div className=\"content\">\n            {/* title, desc:value, cat, img:file ? imgUrl :\"\" */}\n              <Link className=\"link\" to={`/post/${post.id}`}>\n                <h1>{post.title}</h1>\n              </Link>\n              <p>{getText(post.content)}</p>\n              <button>Read More</button>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}